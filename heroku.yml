build:
  docker:
    web: Dockerfile
    # If we had a separate worker Dockerfile:
    # worker: backend/Dockerfile 
release:
  image: web # Use the same image built for the web process
  command:
    - alembic upgrade head
run:
  web: gunicorn streamlit_app:app --bind 0.0.0.0:$PORT --workers 1 --threads 8 --timeout 0
  # Optional: Define command for worker dyno if needed later
  # worker: python -m src.run_pipeline 